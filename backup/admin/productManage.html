<!DOCTYPE html>
<html style="margin: 0" lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <title>Quản lý Sản phẩm</title>
    <style>
      body {
        background-color: #f8f9fa;
      }

      h2 {
        margin-bottom: 20px;
      }

      .table {
        background-color: #fff;
      }

      .btn {
        margin-right: 5px;
      }

      .img-thumbnail {
        width: 100px;
        /* Kích thước hình ảnh */
        height: auto;
        /* Tự động điều chỉnh chiều cao */
      }
      #box1 {
        border: 0px;
        width: 250px;
        height: 0;
        background-color: #182444;
        position: sticky;
      }

      #box2 {
        border: 0px;
        width: 250px;
        height: 100vh; /* Chiều cao tối đa là chiều cao cửa sổ */
        background-color: #172e4d;
        position: fixed; /* Để box2 luôn đứng yên khi cuộn */
        overflow-y: auto; /* Hiển thị thanh cuộn khi cần */
        top: 0; /* Đặt box2 ở đầu trang */
      }

      h3 {
        color: #c9d8eb;
        font-size: 1.07em;
      }
      .button_ql {
        cursor: pointer;
        transition: background-color 0.3s;
        background-color: #172e4d;
        display: flex;
        width: 250px;
        border: none;
      }

      .button_ql:hover {
        background-color: #0056b3;
      }
      a {
        text-decoration: none;
      }
    </style>
    <link rel="stylesheet" href="./css/productManage.css" />
  </head>

  <body style="margin: 0">
    <div style="height: auto">
      <div id="box1" style="display: flex; position: relative">
        <a>
          <img src="../Images/logo.png" width="100px" />
        </a>
        <h3>Quản lí</h3>
      </div>
      <div id="box2">
        <div
          style="display: flex; align-items: center; justify-content: center"
        >
          <a href="./trangchu.html" style="text-decoration: none">
            <h3 style="font-size: 30px; margin-top: 30px; margin-bottom: 30px">
              Quản Lý Admin
            </h3>
          </a>
        </div>
        <div style="display: flex">
          <a href="./userManage.html">
            <button class="button_ql">
              <img
                src="../Images/admin/user-admin.png"
                width="35px"
                height="35px"
                style="margin: 13px"
              />
              <h3 style="margin-top: 13px">Quản lí tài khoản</h3>
            </button>
          </a>
        </div>
        <div>
          <a href="./productManage.html">
            <button class="button_ql">
              <div style="display: flex">
                <img
                  src="../Images/admin/giohang-admin.jpg"
                  width="35px"
                  height="35px"
                  style="margin: 13px"
                />
                <h3 style="margin-top: 13px">Quản lí sản phẩm</h3>
              </div>
            </button>
          </a>

          <a href="./donHang.html">
            <button class="button_ql">
              <div style="display: flex">
                <img
                  src="../Images/admin/donhang-admin.png"
                  width="35px"
                  height="35px"
                  style="margin: 13px"
                />
                <h3 style="margin-top: 13px">Quản lí đơn hàng</h3>
              </div>
            </button>
          </a>
          <a href="./thongke.html">
            <button class="button_ql">
              <div style="display: flex">
                <img
                  src="../Images/admin/thongke-admin.png"
                  width="35px"
                  height="35px"
                  style="margin: 13px"
                />
                <h3 style="margin-top: 13px">Thống kê</h3>
              </div>
            </button>
          </a>
        </div>
      </div>

      <button
        id="toggleBtn"
        style="
          position: fixed;
          left: 250px;
          top: 50%;
          transform: translateY(-50%);
          cursor: pointer;
          font-size: 24px;
          background: transparent;
          border: none;
          color: #007bff;
          outline: none;
          transition: color 0.3s;
        "
      >
        &#x25B6;
        <!-- Mũi tên sang phải -->
      </button>
    </div>

    <div class="container mt-4" style="margin-right: 100px">
      <h2>Quản lý Sản phẩm</h2>
      <button
        class="btn btn-primary"
        data-toggle="modal"
        data-target="#addProductModal"
      >
        Thêm Sản phẩm
      </button>
      <table class="table table-striped" id="productTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Tên</th>
            <th>Loại</th>
            <th>Hình ảnh</th>
            <th>Giá</th>
            <th>Thông tin</th>
            <th>Bảo hành</th>
            <th>Thao tác</th>
          </tr>
        </thead>
        <tbody>
          <!-- Dữ liệu sản phẩm sẽ được chèn vào đây -->
        </tbody>
      </table>
      

      <!-- Modal Thêm Sản phẩm -->
      <div
        class="modal fade"
        id="addProductModal"
        tabindex="-1"
        aria-labelledby="addProductModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="addProductModalLabel">
                Thêm Sản phẩm Mới
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form id="addProductForm">
                <div class="form-group">
                  <label for="productName">Tên:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="productName"
                    required
                  />
                </div>
                <span class="form-group">
                  <label for="ProductCategory">Loại:</label>
                  <select
                    class="form-control"
                    id="ProductCategory"
                    name="ProductCategory"
                    required
                  >
                    <option value="Bút bi">Bút bi</option>
                    <option value="Bút dạ bi">Bút dạ bi</option>
                    <option value="Bút dạ kim">Bút dạ kim</option>
                    <option value="Bút máy">Bút máy</option>
                    <option value="Bút chì">Bút chì</option>
                  </select>
                </span>
                <div class="form-group">
                  <label for="productImage">Hình ảnh:</label>
                  <input
                    type="file"
                    class="form-control"
                    id="productImage"
                    accept="image/*"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="productPrice">Giá:</label>
                  <input
                    type="number"
                    class="form-control"
                    id="productPrice"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="productInfo">Thông tin:</label>
                  <textarea
                    class="form-control"
                    id="productInfo"
                    rows="3"
                    required
                  ></textarea>
                </div>
                <div class="form-group">
                  <label for="productReturnPolicy">Bảo hành</label>
                  <input
                    type="text"
                    class="form-control"
                    id="productReturnPolicy"
                    required
                  />
                </div>
                <button type="submit" class="btn btn-success">
                  Thêm Sản phẩm
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Sửa Sản phẩm -->
      <div
        class="modal fade"
        id="editProductModal"
        tabindex="-1"
        aria-labelledby="editProductModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="editProductModalLabel">
                Sửa Sản phẩm
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="modal-body">
              <form id="editProductForm">
                <div class="form-group">
                  <label for="editProductID">ID:</label>
                <output type="number" class="form-control" id="editProductId" ></output>
                </div>
                <div class="form-group">
                  <label for="editProductName">Tên:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="editProductName"
                  />
                </div>
                <div>
                  <span class="form-group">
                    <label for="editProductCategory">Loại</label>
                    <select id="editProductCategory" name="editProductCategory">
                      <option value="Bút bi">Bút bi</option>
                      <option value="Bút dạ bi">Bút dạ bi</option>
                      <option value="Bút dạ kim">Bút dạ kim</option>
                      <option value="Bút máy">Bút máy</option>
                      <option value="Bút chì">Bút chì</option>
                    </select>
                  </span>
                  <label for="editProductImage">Hình ảnh:</label>
                  <input
                    type="file"
                    class="form-control"
                    id="editProductImage"
                    accept="image/*"
                  />
                  <button class="btn btn-danger" onclick="XoaAnh()">Xóa ảnh</button>
                </div>

                <div class="form-group">
                  <label for="editProductPrice">Giá:</label>
                  <input
                    type="number"
                    class="form-control"
                    id="editProductPrice"
                  />
                </div>
                <div class="form-group">
                  <label for="editProductInfo">Thông tin:</label>
                  <textarea
                    class="form-control"
                    id="editProductInfo"
                    rows="3"
                  ></textarea>
                </div>
                <div class="form-group">
                  <label for="editProductReturnPolicy">Bảo hành</label>
                  <input
                    type="text"
                    class="form-control"
                    id="editProductReturnPolicy"
                  />
                </div>
                <button type="submit" class="btn btn-success">
                  Cập nhật Sản phẩm
                </button>
              </form>
              <div id="showimg"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="pagination" class="pagination-container"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./js/toggle.js"></script>

    <script>
      let productid = 1; // ID cho sản phẩm mới
      const productTableBody = document.querySelector("#productTable tbody");
      let i = 0;
      //Hàm lấy dữ liệu từ localStorage
      function GetItemFromLocalStorage() {
        const sanpham = JSON.parse(localStorage.getItem("ListPens")); //Lấy dữ liệu từ LocalStorage
        while (sanpham[i]) {
          const productId = sanpham[i].id;
          const productName = sanpham[i].title;
          const productCategory = sanpham[i].category;
          const productImage = sanpham[i].thumbnail; // Lấy hình ảnh
          const productPrice = sanpham[i].price;
          const productReturnPolicy = sanpham[i].returnPolicy;
          const productInfo = sanpham[i].description;
          // Tạo một hàng mới trong bảng
          if (productImage.startsWith("data:image/")) {
            //Kiểm tra xem link ảnh bắt đầu bằng base64 hay đường dẫn tương đối
            const newRow = `
                        <tr id="product-${productId}">
                            <td id="id-${productId}">${productId}</td>
                            <td>${productName}</td>
                            <td>${productCategory}</td>
                            <td><img src="${productImage}" alt="${productName}" class="img-thumbnail"></td>
                            <td>${productPrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})} VNĐ</td>
                            <td>${productInfo}</td>
                            <td>${productReturnPolicy}</td>
                            <td>
                                <button class="btn btn-primary" onclick="openEditProductModal(${productId}, '${productName}','${productCategory}', '${productImage}', ${productPrice}, '${productInfo}','${productReturnPolicy}')">Sửa</button>
                                <button class="btn btn-danger" onclick="Confirmbeforedelete(${productId})">Xóa</button>
                            </td>
                        </tr>
                    `;

            // Thêm hàng mới vào bảng
            productTableBody.insertAdjacentHTML("beforeend", newRow);
            i++;
          } else {
            const newRow = `
                        <tr id="product-${productId}">
                            <td id="id-${productId}">${productId}</td>
                            <td>${productName}</td>
                            <td>${productCategory}</td>
                            <td><img src=".${productImage}" alt="${productName}" class="img-thumbnail"></td>
                            <td>${productPrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})} VNĐ</td>
                            <td>${productInfo}</td>
                            <td>${productReturnPolicy}</td>
                            <td>
                                <button class="btn btn-primary" onclick="openEditProductModal(${productId}, '${productName}','${productCategory}', '${productImage}', ${productPrice}, '${productInfo}','${productReturnPolicy}')">Sửa</button>
                                <button class="btn btn-danger" onclick="Confirmbeforedelete(${productId})">Xóa</button>
                            </td>
                        </tr>
                    `;

            // Thêm hàng mới vào bảng
            productTableBody.insertAdjacentHTML("beforeend", newRow);
            i++;
          }
        }
      }

      GetItemFromLocalStorage();

      // Hàm thêm sản phẩm
      document.getElementById("addProductForm").onsubmit = function (e) {
        e.preventDefault();
        const productId = i + 1;
        const productName = document.getElementById("productName").value;
        const productCategory =
          document.getElementById("ProductCategory").value;
        const productImage = document.getElementById("productImage").files[0]; // Lấy hình ảnh
        const productPrice = document.getElementById("productPrice").value;
        const productInfo = document.getElementById("productInfo").value;
        const productReturnPolicy = document.getElementById(
          "productReturnPolicy"
        ).value;
        if (productImage) {
          const reader = new FileReader();
          reader.onload = function (e) {
            const base64Data = e.target.result;

            // Tạo một hàng mới trong bảng
            const newRow = `
                        <tr id="product-${productId}">
                            <td id="id-${productId}">${productId}</td>
                            <td>${productName}</td>
                            <td>${productCategory}</td>
                            <td><img src="${base64Data}" alt="${productName}" class="img-thumbnail"></td>
                            <td>${productPrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})} VNĐ</td>
                            <td>${productInfo}</td>
                            <td>${productReturnPolicy}</td>
                            <td>
                                <button class="btn btn-primary" onclick="openEditProductModal(${productId}, '${productName}','${productCategory}', '${productImage}', ${productPrice}, '${productInfo}','${productReturnPolicy}')">Sửa</button>
                                <button class="btn btn-danger" onclick="Confirmbeforedelete(${productId})">Xóa</button>
                            </td>
                        </tr>
                    `;

            // Thêm hàng mới vào bảng
            productTableBody.insertAdjacentHTML("beforeend", newRow);
            i++; // Tăng ID cho sản phẩm tiếp theo
            const sanpham = JSON.parse(localStorage.getItem("ListPens"));
            if (sanpham) {
              //Đưa dữ liệu lên LocalStorage
              sanpham.push({
                id: productId,
                title: productName,
                category: productCategory,
                price: productPrice,
                thumbnail: base64Data,
                description:productInfo,
                returnPolicy: productReturnPolicy,
              });
            } else {
              const sanpham = {
                id: productId,
                title: productName,
                category: productCategory,
                price: productPrice,
                thumbnail: base64Data,
                description:productInfo,
                returnPolicy: productReturnPolicy,
              };
            }

            localStorage.setItem("ListPens", JSON.stringify(sanpham));
            // Đóng modal và reset form
            $("#addProductModal").modal("hide");
            document.getElementById("addProductForm").reset();
          };
          reader.readAsDataURL(productImage);
        }
      };

      // Hàm xóa sản phẩm
      function deleteProduct(id) {
        const sanpham = JSON.parse(localStorage.getItem("ListPens"));
        const row = document.getElementById(`product-${id}`); // Lấy hàng theo ID
        let index;
        console.log(sanpham.length);
        for (let j = 0; j < sanpham.length; j++) {
          if (sanpham[j].id == id) {
            index = j;
            break;
          }
        }
        sanpham.splice(index, 1);
        localStorage.setItem("ListPens", JSON.stringify(sanpham));
        row.remove(); // Xóa hàng
      }

      // Hàm mở modal sửa sản phẩm
      function openEditProductModal(
        id,
        name,
        category,
        imageUrl,
        price,
        info,
        returnpolicy
      ) {
        document.getElementById('showimg').innerHTML="";
        const sanpham = JSON.parse(localStorage.getItem("ListPens"));
        document.getElementById("editProductId").value = id;
        document.getElementById("editProductName").value = name;
        document.getElementById("editProductCategory").value = category;
        document.getElementById("editProductPrice").value = price;
        document.getElementById("editProductInfo").value = info;
        document.getElementById("editProductReturnPolicy").value = returnpolicy;
        // Hiển thị hình ảnh hiện tại
        if (imageUrl.startsWith("data:image/"))
          document.getElementById("showimg").insertAdjacentHTML("beforeend",`<img src="${imageUrl}" alt="${name}" class="img-thumbnail" style="width:100px;">`);
        else
          document.getElementById("showimg").insertAdjacentHTML("beforeend",`<img src=".${imageUrl}" alt="${name}" class="img-thumbnail" style="width:100px;">`);

        $("#editProductModal").modal("show");        
      }

      //Hàm xác nhận trước khi xóa
      function Confirmbeforedelete(id) {
        if (confirm("Bạn có chắc chắn muốn xóa không ?")) {
          deleteProduct(id);
          alert("Đã xóa thành công");
          return;
        } else alert("Đã hủy bỏ thao tác xóa");
        return;
      }

      // Hàm cập nhật sản phẩm
      document.getElementById("editProductForm").onsubmit = function (e) {
        e.preventDefault();
        const id = document.getElementById("editProductId").value;
        const name = document.getElementById("editProductName").value;
        const category = document.getElementById("editProductCategory").value;
        const price = document.getElementById("editProductPrice").value;
        const info = document.getElementById("editProductInfo").value;
        const returnpolicy = document.getElementById("editProductReturnPolicy").value;
        const image = document.getElementById("editProductImage").files[0]; //Lấy ảnh
          const row = document.getElementById(`product-${id}`);
          row.cells[1].textContent = name;
          row.cells[2].textContent=category;         
          row.cells[4].textContent = `${price.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}`;
          row.cells[6].textContent = info;
          row.cells[7].textContent=returnpolicy;

          const sanpham = JSON.parse(localStorage.getItem("ListPens"));
          const index = sanpham.findIndex((sanpham) => sanpham.id == id);
          if (index != -1) {
            sanpham[index].id = id;
            sanpham[index].title = name;
            sanpham[index].category = category;
            sanpham[index].price = price;
            sanpham[index].description = info;
            sanpham[index].returnPolicy = returnpolicy;
            if (image) 
            {
              row.cells[3]=image;
              reader = new FileReader();
              reader.onload = function (e) {
                const base64Data = e.target.result;
                sanpham[index].thumbnail = base64Data;
                localStorage.setItem("ListPens", JSON.stringify(sanpham));
                $("#editProductModal").modal("hide");
              };
              reader.readAsDataURL(image);
              
            }         
            else{
              localStorage.setItem("ListPens", JSON.stringify(sanpham));
              $("#editProductModal").modal("hide");  
            } 
          
          // Đóng modal và reset form
        }
              
      };

      function XoaAnh(){
          const sanpham=JSON.parse(localStorage.getItem('ListPens'));
          const id=document.getElementById('editProductId').value;
          console.log(id);
          for(let i=0;i<sanpham.length;i++)
          {
            if(Number(sanpham[i].id)==Number(id))
              {
                if(sanpham[i].thumbnail!="")
                {
                  if(confirm("Ban co chac muon xoa anh nay khong!"))
                    {
                      sanpham[i].thumbnail="";
                      const row = document.getElementById(`product-${id}`);
                      row.cells[3].textContent="";
                      alert("Anh cua san pham da duoc xoa!");
                      break;
                    }
                  else
                  {
                    break;
                  }
                }
                else
                {
                  alert("San pham nay khong co anh de xoa!");
                  break;
                }
              }
          }          
          localStorage.setItem('ListPens',JSON.stringify(sanpham));
        }
      
      let currentPage = 1;
      let itemsPerPage = 4;

      // Function to load items for the current page
      function loadItems() {
        const sanpham = JSON.parse(localStorage.getItem("ListPens")) || [];
        const productTableBody = document.querySelector("#productTable tbody");
        productTableBody.innerHTML = ""; // Clear existing rows

        const totalItems = sanpham.length;
        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;

        sanpham.slice(start, end).forEach((item) => {
          let pricesp;
          if(typeof item.price===Number)
          {pricesp=item.price;}
          else
          {          
          pricesp=Number(item.price);
          }
          if(item.thumbnail.startsWith("data:image/"))
          {
            const newRow = `
            <tr id="product-${item.id}">
                <td>${item.id}</td>
                <td>${item.title}</td>
                <td>${item.category}</td>
                <td><img src="${item.thumbnail}" alt="${item.title}" class="img-thumbnail"></td>
                <td>${pricesp.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}</td>
                <td>${item.description}</td>
                <td>${item.returnPolicy}</td>
                <td>
                    <button class="btn btn-primary" onclick="openEditProductModal(${item.id}, '${item.title}', '${item.category}', '${item.thumbnail}', ${item.price}, '${item.description}', '${item.returnPolicy}')">Sửa</button>
                    <button class="btn btn-danger" onclick="Confirmbeforedelete(${item.id})">Xóa</button>
                </td>
            </tr>
        `;
          productTableBody.insertAdjacentHTML("beforeend", newRow);
          }
          else
          {
          const newRow = `
            <tr id="product-${item.id}">
                <td>${item.id}</td>
                <td>${item.title}</td>
                <td>${item.category}</td>
                <td><img src=".${item.thumbnail}" alt="${item.title}" class="img-thumbnail"></td>
                <td>${pricesp.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}</td>
                <td>${item.description}</td>
                <td>${item.returnPolicy}</td>
                <td>
                    <button class="btn btn-primary" onclick="openEditProductModal(${item.id}, '${item.title}', '${item.category}', '${item.thumbnail}', ${item.price}, '${item.description}', '${item.returnPolicy}')">Sửa</button>
                    <button class="btn btn-danger" onclick="Confirmbeforedelete(${item.id})">Xóa</button>
                </td>
            </tr>
        `;
          productTableBody.insertAdjacentHTML("beforeend", newRow);
          }
        });

        renderPagination(totalItems);
      }

      // Function to render pagination buttons
      function renderPagination(totalItems) {
        const paginationContainer = document.getElementById("pagination");
        paginationContainer.innerHTML = ""; // Clear previous pagination buttons

        const totalPages = Math.ceil(totalItems / itemsPerPage);
        const maxVisibleButtons = 5; // Số nút hiển thị tối đa trước và sau trang hiện tại

        // Nút "Previous"
        if (currentPage > 1) {
          const prevButton = document.createElement("button");
          prevButton.innerText = "Trước";
          prevButton.onclick = function () {
            currentPage--;
            loadItems();
          };
          paginationContainer.appendChild(prevButton);
        }

        

        // Tính toán phạm vi trang hiển thị
        let startPage = Math.max(
          1,
          currentPage - Math.floor(maxVisibleButtons / 2)
        );
        let endPage = Math.min(totalPages, startPage + maxVisibleButtons - 1);

        // Điều chỉnh nếu ở trang đầu hoặc trang cuối
        if (endPage - startPage < maxVisibleButtons - 1) {
          startPage = Math.max(1, endPage - maxVisibleButtons + 1);
        }

        // Nút cho trang đầu tiên và dấu "..."
        if (startPage > 1) {
          const firstPageButton = document.createElement("button");
          firstPageButton.innerText = "1";
          firstPageButton.onclick = function () {
            currentPage = 1;
            loadItems();
          };
          paginationContainer.appendChild(firstPageButton);

          if (startPage > 2) {
            const dots = document.createElement("span");
            dots.innerText = "...";
            paginationContainer.appendChild(dots);
          }
        }

        // Tạo nút cho các trang trong phạm vi hiển thị
        for (let i = startPage; i <= endPage; i++) {
          const pageButton = document.createElement("button");
          pageButton.innerText = i;
          if (i === currentPage) {
            pageButton.classList.add("active");
          }
          pageButton.onclick = function () {
            currentPage = i;
            loadItems();
          };
          paginationContainer.appendChild(pageButton);
        }

        // Nút cho trang cuối cùng và dấu "..."
        if (endPage < totalPages) {
          if (endPage < totalPages - 1) {
            const dots = document.createElement("span");
            dots.innerText = "...";
            paginationContainer.appendChild(dots);
          }

          const lastPageButton = document.createElement("button");
          lastPageButton.innerText = totalPages;
          lastPageButton.onclick = function () {
            currentPage = totalPages;
            loadItems();
          };
          paginationContainer.appendChild(lastPageButton);
        }

        // Nút "Next"
        if (currentPage < totalPages) {
          const nextButton = document.createElement("button");
          nextButton.innerText = "Sau";
          nextButton.onclick = function () {
            currentPage++;
            loadItems();
          };
          paginationContainer.appendChild(nextButton);
        }
      }
      // Initial load
      loadItems();
    </script>
  </body>
</html>
